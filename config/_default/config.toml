title = "Simon Heimlicher"
# copyright = "Copyright Â© Simon Heimlicher"

# set `baseurl` to your root domain including trailing slash
# if you set it to "/" share icons won't work properly on production
baseURL = "https://simon.heimlicher.com/"  # Include trailing slash
# FIXME: canonicalBaseURL can be set but not retrieved from site.CanonicalBaseURL
# canonicalBaseURL = "https://simon.heimlicher.com/"  # Include trailing slash

defaultContentLanguage = 'en'
languageCode = "en-us"

theme = ["fontawesome", "claris"]

# https://gohugo.io/templates/robots/
enableRobotsTXT = true

# No redirects
# https://github.com/gohugoio/hugoDocs/blob/master/config/_default/config.toml
# We do redirects via nginx map include file, generated by Hugo (see "outputs" below).
disableAliases = true

# Image processing can take longer than 30s
timeout = 600000

ignoreFiles = [
  "\\.DS_Store$",
  "\\.vscode$",
  ".*\\.code-workspace$",
  "frontmatter\\.json$",
]

# Allow all kinds
# disableKinds = [
#   "taxonomy",
#   "term",
#   "page",
#   "section",
#   "RSS",
#   "sitemap",
#   "robotsTXT",
#   "404"
# ]

paginate = 20


###############################################################################
# NOTICE: After introducing the first section in TOML (e.g. "[Author]"),
# nothing is added to the root namespace
# No more changes to Hugo root-level configuration below this line

# https://discourse.gohugo.io/t/change-location-of-resources-directory/15682/3
# https://gohugo.io/getting-started/configuration/#configure-file-caches
# Avoid using resourceDir in the project directory
# Since resourceDir cannot be set from the command line or environment variables,
# we set it indirectly via --cacheDir or HUGO_CACHE_DIR
[caches]
  [caches.assets]
    # dir = ':resourceDir/_gen'
    dir = ':cacheDir/resources/_gen'
  [caches.images]
    # dir = ':resourceDir/_gen'
    dir = ':cacheDir/resources/_gen'

[outputs]
  home = [ "HTML", "redir", "siteredir" ]
  page = [ "HTML"]
  section = [ "HTML", "RSS"]

[mediaTypes]
  [mediaTypes."text/nginx"]
    delimiter = ""

[outputFormats]
  [outputFormats.redir]
    mediatype = "text/nginx"
    baseName = "_redirects.nginx"
    isPlainText = true
    notAlternative = true
  [outputFormats.siteredir]
    name = "siteredir"
    mediatype = "text/nginx"
    baseName = "_siteredirects.nginx"
    isPlainText = true
    notAlternative = true

[Author]
  given_name = "Simon"
  family_name = "Heimlicher"
  display_name  = "Simon Heimlicher"
  name = "Simon Heimlicher"
  # NOTE: email is set in data file 'assets/data/claris/en.yaml'
  # email = "user@example.net"

# Allow imaging options to be set in theme config file
[imaging]
  _merge = 'deep'

# Render custom 404 page
# FIXME: does not seem to work for 'hugo server'
[[redirects]]
    from   = "/**"
    to     = "/error/404/"
    status = 404

# [security]
#   enableInlineShortcodes = false
#   [security.exec]
#     allow = ['^dart-sass-embedded$', '^go$', '^npx$', '^postcss$', '^babel$']
#     osEnv = ['(?i)^(PATH|PATHEXT|APPDATA|TMP|TEMP|TERM)$']
#   [security.funcs]
#     getenv = ['^HUGO_']
#   [security.http]
#     methods = ['(?i)GET|POST']
#     urls = ['.*']

# Merge security from theme for asset pipeline
[security]
  _merge = "deep"


[[module.mounts]]
  source = "sites/heimlicher.com/assets"
  target = "assets"
  excludeFiles = [
    ".DS_Store"
  ]

[[module.mounts]]
  source = "sites/heimlicher.com/data"
  target = "data"
  excludeFiles = [
    ".DS_Store"
  ]

[[module.mounts]]
  source = "sites/heimlicher.com/static"
  target = "static"
  excludeFiles = [
    ".DS_Store"
  ]

# FIXME: If using excludeFiles, these files are also not available for .Resources.Get
[[module.mounts]]
  source = "sites/heimlicher.com/content"
  target = "content"
  excludeFiles = [
    "**/.DS_Store" #,
    # "**/*.yaml" # Don't exclude YAML files
  ]

[permalinks]
    articles = ":sections/:filename"

[taxonomies]
    category = "categories"
    tag = "tags"
    series = "series"

[related]
  includeNewer = true
  threshold = 50
  toLower = true

[[related.indices]]
  name = "categories"
  weight = 100

[[related.indices]]
  name = "tags"
  weight = 100

[[related.indices]]
    name = "keywords"
    weight = 100

[[related.indices]]
  name = "date"
  weight = 10
